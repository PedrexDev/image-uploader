<%- include('partials/header', { title: 'Home' }) %>

<% if (user) { %>
  <div class="container py-5">
    <h2 class="text-center mb-4">Welcome, <%= user.displayName || user.username %>!</h2>

    <div class="row justify-content-center">
      <div class="col-md-6">

        <div class="card shadow rounded-4">
          <div class="card-body text-center">

            <% if (user.avatar) { %>
              <img src="<%= user.avatar.startsWith('http') ? user.avatar : `https://cdn.discordapp.com/avatars/${user.discordId}/${user.avatar}.png` %>" alt="Avatar" class="rounded-circle mb-3" width="100" height="100">
            <% } else { %>
              <img src="/img/default-avatar.png" alt="Avatar" class="rounded-circle mb-3" width="100" height="100">
            <% } %>

            <h5 class="card-title">
              <%= user.displayName || user.username %>
            </h5>

            <ul class="list-group text-start mt-3">
              <% if (user.email) { %>
                <li class="list-group-item"><strong>Email:</strong> <%= user.email %></li>
              <% } %>

              <% if (user.discordId) { %>
                <li class="list-group-item"><strong>Discord ID:</strong> <%= user.discordId %></li>
              <% } %>

              <% if (user.username) { %>
                <li class="list-group-item"><strong>Username:</strong> <%= user.username %></li>
              <% } %>

              <% if (user.role) { %>
                <li class="list-group-item"><strong>Role:</strong> <%= user.role %></li>
              <% } %>

              <% if (user.createdAt) { %>
                <li class="list-group-item"><strong>Account Created:</strong> <%= new Date(user.createdAt).toLocaleString() %></li>
              <% } %>

              <li class="list-group-item"><strong>Account Type:</strong>
                <%= user.discordId ? 'Discord' : 'Local' %>
              </li>
            </ul>
          </div>
        </div>

      </div>
    </div>
  </div>

<% } else { %>
  <div class="align-items-center text-center">
    <img src="/img/logo-text.png">
    <h1>Image Uploader <span style="font-size: 15px !important;" class="text-secondary">by Pedrex</span></h1>
    <p>
      My own image uploader, used exclusively by me to host my images.<br>
      Are you interested in this project? It's <a href="https://github.com/PedrexDev/image-uploader">open-source on my GitHub!</a> Feel free to give it a
      <span class="text-warning fw-bold"><i class="fa-solid fa-star"></i> star!</span>
    </p>
  </div>
<% } %>

<%- include('partials/footer') %>
